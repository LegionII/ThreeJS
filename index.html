<!DOCTYPE html>
<html>

<head>
    <script type="text/javascript" src="Three.js"></script>
    <script type="text/javascript" src="physi.js"></script>
    <script type="text/javascript" src="OrbitControls.js"></script>

    <script type="text/javascript">

        'use strict';

        Physijs.scripts.worker = 'physijs_worker.js';
        Physijs.scripts.ammo = 'ammo.js';

        var initScene, render, renderer, scene, camera, ground,controls;

        var rand1, rand2, rand3, rand4;

        var obstakel1;

        initScene = function () {
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.getElementById('viewport').appendChild(renderer.domElement);

            scene = new Physijs.Scene;

            camera = new THREE.PerspectiveCamera(
                60,
                window.innerWidth / window.innerHeight,
                1,
                1000
            );
            camera.position.z = 100;
       //     camera.lookAt(scene.position);

            scene.add(camera);

            controls = new THREE.OrbitControls(camera);
            controls.addEventListener('change', render);


            // Rand
            rand1 = new Physijs.BoxMesh(
                new THREE.CubeGeometry(2,5,100),
                new THREE.MeshBasicMaterial({ color: 0x888888 })
            );
            rand1.position.set(49, -17, 0);

            rand2 = new Physijs.BoxMesh(
                new THREE.CubeGeometry(98, 5, 2),
                new THREE.MeshBasicMaterial({ color: 0x888888 })
            );
            rand2.position.set(-1, -17, -49);

            rand3 = new Physijs.BoxMesh(
                new THREE.CubeGeometry(2, 5, 98),
                new THREE.MeshBasicMaterial({ color: 0x888888 })
            );
            rand3.position.set(-49, -17, 1);

            rand4 = new Physijs.BoxMesh(
                new THREE.CubeGeometry(96, 5, 2),
                new THREE.MeshBasicMaterial({ color: 0x888888 })
            );
            rand4.position.set(0, -17, 49);

            //Obstakels
            obstakel1 = new Physijs.BoxMesh(
               new THREE.CubeGeometry(2, 5, 5),
               new THREE.MeshBasicMaterial({ color: 0x888888 })
           );
            obstakel1.position.set(0, -17, -45,9);
            


            ground = new Physijs.BoxMesh(new THREE.CubeGeometry(100, 1, 100), new THREE.MeshBasicMaterial({ color: 0x8885688 }),0);
            ground.position.set(0, -20, 0);
            //ground.rotateX(-45);
            scene.add(ground);
            
            scene.add(rand1);
            scene.add(rand2);
            scene.add(rand3);
            scene.add(rand4);

            scene.add(obstakel1);

            requestAnimationFrame(render);
        };

        render = function () {
            scene.simulate(); // run physics
            renderer.render(scene, camera); // render the scene
            requestAnimationFrame(render);
            
        };

        window.onload = initScene;

    </script>
</head>

<body>
    <div id="viewport"></div>
</body>
</html>